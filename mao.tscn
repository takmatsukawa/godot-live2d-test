[gd_scene load_steps=9 format=3 uid="uid://bch3cadf4ysrf"]

[ext_resource type="Script" path="res://mao.gd" id="1_6jjbm"]
[ext_resource type="Script" path="res://gd_cubism_effect_custom.gd" id="2_yrt8h"]
[ext_resource type="Script" path="res://addons/godot_state_charts/state_chart.gd" id="3_la044"]
[ext_resource type="Script" path="res://addons/godot_state_charts/compound_state.gd" id="4_tdgs0"]
[ext_resource type="Script" path="res://addons/godot_state_charts/atomic_state.gd" id="5_gb1qb"]
[ext_resource type="Script" path="res://addons/godot_state_charts/transition.gd" id="6_2d7xs"]

[sub_resource type="ViewportTexture" id="ViewportTexture_kebk5"]
viewport_path = NodePath("GDCubismUserModel")

[sub_resource type="AudioStreamMicrophone" id="AudioStreamMicrophone_crue8"]

[node name="Mao" type="Sprite2D"]
position = Vector2(938, 592)
texture = SubResource("ViewportTexture_kebk5")
script = ExtResource("1_6jjbm")

[node name="GDCubismUserModel" type="GDCubismUserModel" parent="."]
assets = "res://models/mao_pro_jp/runtime/mao_pro.model3.json"
anim_loop = false
anim_loop_fade_in = true
anim_expression = ""
anim_motion = ""
ParamAngleX = 6.36697
ParamAngleY = -2.38294
ParamAngleZ = 0.423764
ParamCheek = 0.0
ParamFaceInkOn = 0.0
ParamEyeLOpen = 1.0
ParamEyeLSmile = 0.0
ParamEyeLForm = 0.0
ParamEyeROpen = 1.0
ParamEyeRSmile = 0.0
ParamEyeRForm = 0.0
ParamEyeBallX = 0.0
ParamEyeBallY = 0.0
ParamEyeBallForm = 0.0
ParamEyeEffect = 0.0
ParamBrowLY = 0.0
ParamBrowRY = 0.0
ParamBrowLX = 0.0
ParamBrowRX = 0.0
ParamBrowLAngle = 0.0
ParamBrowRAngle = 0.0
ParamBrowLForm = 0.0
ParamBrowRForm = 0.0
ParamA = 0.0
ParamI = 0.0
ParamU = 0.0
ParamE = 0.0
ParamO = 0.0
ParamMouthUp = 1.0
ParamMouthDown = 0.0
ParamMouthAngry = 0.0
ParamMouthAngryLine = 0.0
ParamBodyAngleX = -0.681352
ParamBodyAngleY = 0.0
ParamBodyAngleZ = 0.0
ParamBreath = 0.382783
ParamLeftShoulderUp = 0.0
ParamRightShoulderUp = 0.0
ParamArmLA01 = 0.0
ParamArmLA02 = 0.0
ParamArmLA03 = 0.0
ParamHandLA = 0.0
ParamArmRA01 = 0.0
ParamArmRA02 = 0.0
ParamArmRA03 = 0.0
ParamWandRotate = 0.0
ParamHandRA = 0.0
ParamInkDrop = 0.0
ParamInkDropRotate = 0.0
ParamInkDropOn = 0.0
ParamArmLB01 = 0.0
ParamArmLB02 = 0.0
ParamArmLB03 = 0.0
ParamHandLB = 0.0
ParamHatForm = 0.0
ParamArmRB01 = 0.0
ParamArmRB02 = 0.0
ParamArmRB02Y = 0.0
ParamArmRB03 = 0.0
ParamHandRB = 0.0
ParamAllX = 0.0
ParamAllY = 0.0
ParamAllRotate = 0.0
ParamHairFront = 0.006305
ParamHairSideL = 0.00631263
ParamHairSideR = 0.00631263
ParamHairBack = 0.00648997
ParamHairBackR = 0.00627533
ParamHairBackL = 0.00627533
ParamoHairMesh = 0.00886775
ParamHairFrontFuwa = -0.000710096
ParamHairSideFuwa = 0.000474702
ParamHairBackFuwa = -0.000532359
ParamWing = 0.00543968
ParamRibbon = 0.00293762
ParamHatBrim = 0.00240185
ParamHatTop = 0.00385234
ParamAccessory1 = 0.0046753
ParamAccessory2 = -0.00471227
ParamString = 0.00281605
ParamRobeL = 0.00336615
ParamRobeR = 0.00336615
ParamRobeFuwa = 0.0
ParamHeartMissOn = 0.0
ParamHeartBackMissOn = 0.0
ParamHeartColorRainbow = 0.0
ParamHeartHealOn = 0.0
ParamHeartBackHealOn = 0.0
ParamHeartColorHeal = 0.0
ParamHeartDrow = 0.0
ParamHeartSize = 0.0
ParamHeartColorLight = 0.0
ParamWandInkColorRainbow = 0.0
ParamWandInkColorHeal = 0.0
ParamWandInk = 0.0
ParamSmokeOn = 0.0
ParamSmoke = 0.0
ParamExplosionChargeOn = 0.0
ParamExplosionLightCharge = 0.0
ParamExplosionOn = 0.0
ParamExplosion = 0.0
ParamRabbitX = 0.0
ParamRabbitY = 1.0
ParamRabbitRotate = 0.0
ParamRabbitEliminationEffect = 0.0
ParamRabbitAppearance = 0.0
ParamRabbitSize = 0.0
ParamRabbitDraworder = 0.0
ParamRabbitEar = 0.0
Param5 = 0.0
ParamRabbitLight = 0.0
ParamRabbitLightSize = 0.0
ParamAuraOn = 0.0
ParamAura = 0.0
ParamAuraColor1 = 0.0
ParamAuraColor2 = 0.0
ParamHeartLightOn = 0.0
ParamHeartLight = 0.0
ParamHeartLightColor = 0.0
ParamHealLightOn = 0.0
ParamHealLight = 0.0
ParamStrengthenLightOn = 0.0
ParamStrengthenLight = 0.0
ParamStrengthenLightMove = 0.0
ParamMagicPositionX = 0.0
ParamMagicPositionY = 0.0
ParamAllColor1 = 0.0
ParamAllColor2 = 0.0
PartCore = 1.0
Part = 1.0
Part2 = 1.0
PartInk = 1.0
PartSmoke = 1.0
PartExplosionLight = 1.0
Partaura = 1.0
PartLight = 1.0
PartHeart = 1.0
PartHat = 1.0
PartHairSide = 1.0
PartHairFront = 1.0
PartHairBack = 1.0
PartBrow = 1.0
PartEye = 1.0
PartCheek = 1.0
PartNose = 1.0
PartMouth = 1.0
PartFace = 1.0
PartEar = 1.0
PartNeck = 1.0
PartRobe = 1.0
PartHoodie = 1.0
PartLeg = 1.0
PartArmLA = 1.0
PartArmRA = 1.0
PartArmLB = 0.0
PartArmRB = 0.0
PartEyeBall = 1.0
PartWandA = 1.0
PartWandB = 1.0
disable_3d = true
transparent_bg = true
gui_disable_input = true
render_target_update_mode = 4

[node name="GDCubismEffectBreath" type="GDCubismEffectBreath" parent="GDCubismUserModel"]

[node name="GDCubismEffectEyeBlink" type="GDCubismEffectEyeBlink" parent="GDCubismUserModel"]

[node name="GDCubismEffectTargetPoint" type="GDCubismEffectTargetPoint" parent="GDCubismUserModel"]

[node name="GDCubismEffectCustom" type="GDCubismEffectCustom" parent="GDCubismUserModel"]
script = ExtResource("2_yrt8h")
param_mouth_name = "ParamA"

[node name="GDCubismEffectHitArea" type="GDCubismEffectHitArea" parent="GDCubismUserModel"]

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer2D" parent="."]
stream = SubResource("AudioStreamMicrophone_crue8")
autoplay = true
bus = &"Voice"

[node name="StateChart" type="Node" parent="."]
script = ExtResource("3_la044")

[node name="Root" type="Node" parent="StateChart"]
script = ExtResource("4_tdgs0")
initial_state = NodePath("Idle")

[node name="Idle" type="Node" parent="StateChart/Root"]
script = ExtResource("5_gb1qb")

[node name="To Angry" type="Node" parent="StateChart/Root/Idle"]
script = ExtResource("6_2d7xs")
to = NodePath("../../Angry")
event = &"made_her_angry"
delay_in_seconds = "0.0"

[node name="To Happy" type="Node" parent="StateChart/Root/Idle"]
script = ExtResource("6_2d7xs")
to = NodePath("../../Happy")
event = &"made_her_happy"
delay_in_seconds = "0.0"

[node name="Angry" type="Node" parent="StateChart/Root"]
script = ExtResource("5_gb1qb")

[node name="To Idle" type="Node" parent="StateChart/Root/Angry"]
script = ExtResource("6_2d7xs")
to = NodePath("../../Idle")
event = &"made_her_calm"
delay_in_seconds = "0.0"

[node name="Happy" type="Node" parent="StateChart/Root"]
script = ExtResource("5_gb1qb")

[node name="To Idle" type="Node" parent="StateChart/Root/Happy"]
script = ExtResource("6_2d7xs")
to = NodePath("../../Idle")
event = &"made_her_calm"
delay_in_seconds = "0.0"

[connection signal="cubism_init" from="GDCubismUserModel/GDCubismEffectCustom" to="GDCubismUserModel/GDCubismEffectCustom" method="_on_cubism_init"]
[connection signal="cubism_process" from="GDCubismUserModel/GDCubismEffectCustom" to="GDCubismUserModel/GDCubismEffectCustom" method="_on_cubism_process"]
[connection signal="cubism_term" from="GDCubismUserModel/GDCubismEffectCustom" to="GDCubismUserModel/GDCubismEffectCustom" method="_on_cubism_term"]
[connection signal="hit_area_entered" from="GDCubismUserModel/GDCubismEffectHitArea" to="." method="_on_gd_cubism_effect_hit_area_hit_area_entered"]
[connection signal="state_entered" from="StateChart/Root/Idle" to="." method="_on_idle_state_entered"]
[connection signal="state_entered" from="StateChart/Root/Angry" to="." method="_on_angry_state_entered"]
[connection signal="state_entered" from="StateChart/Root/Happy" to="." method="_on_happy_state_entered"]
